---
layout: post
title:  "[코드스쿼드] MV* 1 역할나누기"
subtitle:   "코드스쿼드"
categories: devlog
tags: HTMLCSS
comments: true
---

> 코드스쿼드 프론트엔드 레벨3 웹자판기(DOM&Event) 과정 중 6번째 MV* 1 역할나누기에 대해서 정리한 글입니다.

## MV*

- `Model` `View`
  - 명확함
  - 데이터를 가지고 있음
  - 화면을 구성함
  - **중간자**
    - `Model` 과 `View` 관계는 **느슨하게 만들 필요**가 있음
    - `MVC` 에서의 `C` 는 **입력장치 역할**을 담당함
    - `Model` 과 `View` 관계를 더 느슨하게 만들어주는 것을
      - **presenter** 라고 일컫음 `MVP`

<br />

<br />

## 우리가 집중할 중재자

- `Model` 과 `View` 역할을 **명확하게 분리**
- `Model` 과 `View` 가 많아지면
  - 서로 참조하면서 그 **관계가 복잡**해짐
  - 따라서 `M,V 관계`를 느슨하게 만들 필요가 있음
  - 또한 `Views` 간에도 관계가 느슨하면 좋겠음
- `controller` - M,V 관계를 구분
- **가장 중요한 것** `각 역할이 무엇인지에 집중하는 것`

<br />

<br />

## 역할 정의

- **Model**

  - 데이터 갱신 `추가` `변경` `제거` `획득`
  - 데이터를 획득하는 로직 `Ajax` `LocalStorage` 이 포함될 수 있음
    - Controller에서 만들어서 줄 수도 있음

- **Controller**

  >전체적인 목표는 Model과 View 간 변경사항을 연결하는 것

  - event handler `Listener` 구현체 만들기
  - View가 렌더링을 잘 할 수 있도록 데이터 가공 `viewModel`
  - 데이터 변경이 필요한 경우는 `Model` 에 전달

- **View**

  > DOM조작 (View 변경) 에만 집중

  - 데이터를 받아 그대로 DOM에 추가
  - Add Event Listener

<br/>

<br/>

## 실습

- 할일을 입력하면 '해야 할 일들' 에 노출된다

- Event Delegation를 사용한다 (Document에만 event를 등록한다)

- Template Literal 을 활용한 View용 HTML 데이터 생성

<br/>

<br/>

## Event Delegation

  - [Event Delegation](https://milooy.wordpress.com/2015/07/04/event-delegation-javascript-jquery/)

         - Child element 각각 이벤트 핸들러를 달지 않고
           - Parent Element에 달고 이벤트가 발생한 노드를 필터링 해서 처리함

       ```javascript
       document.getElementById( 'myTable' ).addEventListener( 'click', function( e ) {
             if( e.target && e.target.nodeName == 'TD' ) {
                //you code goes here...
             }
          }, false );
       ```

       ```HTML
       <HTML>
       <table id="myTable">
          <tbody>
             <tr>
                <td id="myTd">1, 1</td>
                <td>1, 2</td>
             </tr> 
             <tr>
                <td>2, 1</td>
                <td>2, 2</td>
             </tr>
          </tbody>
       </table>
       ```

- [Event Delegation](https://github.com/nhnent/fe.javascript/wiki/August-22-August-26,-2016)

  사용자의 액션에 의해 이벤트 발생 시 이벤트는 Document 레벨까지 버블링되어 올라간다.

<br/>

<br/>

## [버블링](https://joshua1988.github.io/web-development/javascript/event-propagation-delegation/)

> 특정 화면 요소에서 이벤트가 발생했을 때, 해당 이벤트가 더 상위의 화면 요소들로 전달되어 가는 특성

![](/var/folders/qy/dg5tnbmx4vz1_p8slhf9c89r0000gn/T/abnerworks.Typora/image-20180714231500693.png)

- 어떤 태그에서 이벤트가 발생했을 때, 부모 태그로 올라가면서 이벤트를 발생시킴
- 브라우저가 이벤트를 감지하는 방식 때문
  - 브라우저는 특정 화면 요소에서 이벤트가 발생했을 때, 그 이벤트를 최상위에 있는 화면요소까지 이벤트를 전파시킴
- 하위에서 상위 요소로의 이벤트 전파 방식을 `이벤트 버블링(Event Bubbling)` 이라고 함





















